
è®¾è®¡æ¨¡å¼çš„åˆ†ç±»

æ€»ä½“æ¥è¯´è®¾è®¡æ¨¡å¼åˆ†ä¸ºä¸‰å¤§ç±»ï¼š

åˆ›å»ºå‹æ¨¡å¼ï¼Œå…±äº”ç§ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ã€æŠ½è±¡å·¥å‚æ¨¡å¼ã€å•ä¾‹æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼ã€åŸå‹æ¨¡å¼ã€‚

ç»“æ„å‹æ¨¡å¼ï¼Œå…±ä¸ƒç§ï¼šé€‚é…å™¨æ¨¡å¼ã€è£…é¥°å™¨æ¨¡å¼ã€ä»£ç†æ¨¡å¼ã€å¤–è§‚æ¨¡å¼ã€æ¡¥æ¥æ¨¡å¼ã€ç»„åˆæ¨¡å¼ã€äº«å…ƒæ¨¡å¼ã€‚

è¡Œä¸ºå‹æ¨¡å¼ï¼Œå…±åä¸€ç§ï¼šç­–ç•¥æ¨¡å¼ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼ã€è§‚å¯Ÿè€…æ¨¡å¼ã€è¿­ä»£å­æ¨¡å¼ã€è´£ä»»é“¾æ¨¡å¼ã€å‘½ä»¤æ¨¡å¼ã€å¤‡å¿˜å½•æ¨¡å¼ã€çŠ¶æ€æ¨¡å¼ã€è®¿é—®è€…æ¨¡å¼ã€ä¸­ä»‹è€…æ¨¡å¼ã€è§£é‡Šå™¨æ¨¡å¼ã€‚



¶ş¡¢·ÖÀà 
        ¹¤³§Ä£Ê½Ö÷ÒªÊÇÎª´´½¨¶ÔÏóÌá¹©¹ı¶É½Ó¿Ú£¬ÒÔ±ã½«´´½¨¶ÔÏóµÄ¾ßÌå¹ı³ÌÆÁ±Î¸ôÀëÆğÀ´£¬´ïµ½Ìá¸ßÁé»îĞÔµÄÄ¿µÄ¡£ 
¹¤³§Ä£Ê½¿ÉÒÔ·ÖÎªÈıÀà£º 

1£©¼òµ¥¹¤³§Ä£Ê½£¨Simple Factory£© 
2£©¹¤³§·½·¨Ä£Ê½£¨Factory Method£© 
3£©³éÏó¹¤³§Ä£Ê½£¨Abstract Factory£© 
http://blog.csdn.net/liruikqn/article/details/12888511

======================

http://blog.csdn.net/jason0539/article/details/23020989




http://blog.csdn.net/zhangerqing/article/details/8194653/

ä¸¾ä¾‹å¦‚ä¸‹ï¼šï¼ˆæˆ‘ä»¬ä¸¾ä¸€ä¸ªå‘é€é‚®ä»¶å’ŒçŸ­ä¿¡çš„ä¾‹å­ï¼‰

é¦–å…ˆï¼Œåˆ›å»ºäºŒè€…çš„å…±åŒæ¥å£ï¼š
[java] view plain copy

    public interface Sender {  
        public void Send();  
    }  

å…¶æ¬¡ï¼Œåˆ›å»ºå®ç°ç±»ï¼š
[java] view plain copy

    public class MailSender implements Sender {  
        @Override  
        public void Send() {  
            System.out.println("this is mailsender!");  
        }  
    }  

[java] view plain copy

    public class SmsSender implements Sender {  
      
        @Override  
        public void Send() {  
            System.out.println("this is sms sender!");  
        }  
    }  

æœ€åï¼Œå»ºå·¥å‚ç±»ï¼š
[java] view plain copy

    public class SendFactory {  
      
        public Sender produce(String type) {  
            if ("mail".equals(type)) {  
                return new MailSender();  
            } else if ("sms".equals(type)) {  
                return new SmsSender();  
            } else {  
                System.out.println("è¯·è¾“å…¥æ­£ç¡®çš„ç±»å‹!");  
                return null;  
            }  
        }  
    }  

æˆ‘ä»¬æ¥æµ‹è¯•ä¸‹ï¼š
[java] view plain copy

    public class FactoryTest {  
      
        public static void main(String[] args) {  
            SendFactory factory = new SendFactory();  
            Sender sender = factory.produce("sms");  
            sender.Send();  
        }  
    }  

è¾“å‡ºï¼šthis is sms sender!

=====================

 JAVAè®¾è®¡æ¨¡å¼ä¹‹å·¥å‚æ¨¡å¼(ç®€å•å·¥å‚æ¨¡å¼+å·¥å‚æ–¹æ³•æ¨¡å¼)
æ ‡ç­¾ï¼š è®¾è®¡æ¨¡å¼å·¥å‚æ¨¡å¼javaè®¾è®¡æ¨¡å¼java
2014-04-07 17:36 126721äººé˜…è¯» è¯„è®º(23) æ”¶è— ä¸¾æŠ¥
åˆ†ç±»ï¼š
è®¾è®¡æ¨¡å¼ï¼ˆ20ï¼‰

 åœ¨é¢å‘å¯¹è±¡ç¼–ç¨‹ä¸­, æœ€é€šå¸¸çš„æ–¹æ³•æ˜¯ä¸€ä¸ªnewæ“ä½œç¬¦äº§ç”Ÿä¸€ä¸ªå¯¹è±¡å®ä¾‹,newæ“ä½œç¬¦å°±æ˜¯ç”¨æ¥æ„é€ å¯¹è±¡å®ä¾‹çš„ã€‚ä½†æ˜¯åœ¨ä¸€äº›æƒ…å†µä¸‹, newæ“ä½œç¬¦ç›´æ¥ç”Ÿæˆå¯¹è±¡ä¼šå¸¦æ¥ä¸€äº›é—®é¢˜ã€‚ä¸¾ä¾‹æ¥è¯´, è®¸å¤šç±»å‹å¯¹è±¡çš„åˆ›é€ éœ€è¦ä¸€ç³»åˆ—çš„æ­¥éª¤: ä½ å¯èƒ½éœ€è¦è®¡ç®—æˆ–å–å¾—å¯¹è±¡çš„åˆå§‹è®¾ç½®; é€‰æ‹©ç”Ÿæˆå“ªä¸ªå­å¯¹è±¡å®ä¾‹; æˆ–åœ¨ç”Ÿæˆä½ éœ€è¦çš„å¯¹è±¡ä¹‹å‰å¿…é¡»å…ˆç”Ÿæˆä¸€äº›è¾…åŠ©åŠŸèƒ½çš„å¯¹è±¡ã€‚ åœ¨è¿™äº›æƒ…å†µ,æ–°å¯¹è±¡çš„å»ºç«‹å°±æ˜¯ä¸€ä¸ª â€œè¿‡ç¨‹â€ï¼Œä¸ä»…æ˜¯ä¸€ä¸ªæ“ä½œï¼Œåƒä¸€éƒ¨å¤§æœºå™¨ä¸­çš„ä¸€ä¸ªé½¿è½®ä¼ åŠ¨ã€‚

æ¨¡å¼çš„é—®é¢˜ï¼šä½ å¦‚ä½•èƒ½è½»æ¾æ–¹ä¾¿åœ°æ„é€ å¯¹è±¡å®ä¾‹ï¼Œè€Œä¸å¿…å…³å¿ƒæ„é€ å¯¹è±¡å®ä¾‹çš„ç»†èŠ‚å’Œå¤æ‚è¿‡ç¨‹å‘¢ï¼Ÿ

è§£å†³æ–¹æ¡ˆï¼šå»ºç«‹ä¸€ä¸ªå·¥å‚æ¥åˆ›å»ºå¯¹è±¡

å®ç°ï¼š

ä¸€ã€å¼•è¨€
    1ï¼‰è¿˜æ²¡æœ‰å·¥å‚æ—¶ä»£ï¼šå‡å¦‚è¿˜æ²¡æœ‰å·¥ä¸šé©å‘½ï¼Œå¦‚æœä¸€ä¸ªå®¢æˆ·è¦ä¸€æ¬¾å®é©¬è½¦,ä¸€èˆ¬çš„åšæ³•æ˜¯å®¢æˆ·å»åˆ›å»ºä¸€æ¬¾å®é©¬è½¦ï¼Œç„¶åæ‹¿æ¥ç”¨ã€‚
    2ï¼‰ç®€å•å·¥å‚æ¨¡å¼ï¼šåæ¥å‡ºç°å·¥ä¸šé©å‘½ã€‚ç”¨æˆ·ä¸ç”¨å»åˆ›å»ºå®é©¬è½¦ã€‚å› ä¸ºå®¢æˆ·æœ‰ä¸€ä¸ªå·¥å‚æ¥å¸®ä»–åˆ›å»ºå®é©¬.æƒ³è¦ä»€ä¹ˆè½¦ï¼Œè¿™ä¸ªå·¥å‚å°±å¯ä»¥å»ºã€‚æ¯”å¦‚æƒ³è¦320iç³»åˆ—è½¦ã€‚å·¥å‚å°±åˆ›å»ºè¿™ä¸ªç³»åˆ—çš„è½¦ã€‚å³å·¥å‚å¯ä»¥åˆ›å»ºäº§å“ã€‚
    3ï¼‰å·¥å‚æ–¹æ³•æ¨¡å¼æ—¶ä»£ï¼šä¸ºäº†æ»¡è¶³å®¢æˆ·ï¼Œå®é©¬è½¦ç³»åˆ—è¶Šæ¥è¶Šå¤šï¼Œå¦‚320iï¼Œ523i,30liç­‰ç³»åˆ—ä¸€ä¸ªå·¥å‚æ— æ³•åˆ›å»ºæ‰€æœ‰çš„å®é©¬ç³»åˆ—ã€‚äºæ˜¯ç”±å•ç‹¬åˆ†å‡ºæ¥å¤šä¸ªå…·ä½“çš„å·¥å‚ã€‚æ¯ä¸ªå…·ä½“å·¥å‚åˆ›å»ºä¸€ç§ç³»åˆ—ã€‚å³å…·ä½“å·¥å‚ç±»åªèƒ½åˆ›å»ºä¸€ä¸ªå…·ä½“äº§å“ã€‚ä½†æ˜¯å®é©¬å·¥å‚è¿˜æ˜¯ä¸ªæŠ½è±¡ã€‚ä½ éœ€è¦æŒ‡å®šæŸä¸ªå…·ä½“çš„å·¥å‚æ‰èƒ½ç”Ÿäº§è½¦å‡ºæ¥ã€‚

   4ï¼‰æŠ½è±¡å·¥å‚æ¨¡å¼æ—¶ä»£ï¼šéšç€å®¢æˆ·çš„è¦æ±‚è¶Šæ¥è¶Šé«˜ï¼Œå®é©¬è½¦å¿…é¡»é…ç½®ç©ºè°ƒã€‚äºæ˜¯è¿™ä¸ªå·¥å‚å¼€å§‹ç”Ÿäº§å®é©¬è½¦å’Œéœ€è¦çš„ç©ºè°ƒã€‚

   æœ€ç»ˆæ˜¯å®¢æˆ·åªè¦å¯¹å®é©¬çš„é”€å”®å‘˜è¯´ï¼šæˆ‘è¦523iç©ºè°ƒè½¦ï¼Œé”€å”®å‘˜å°±ç›´æ¥ç»™ä»–523iç©ºè°ƒè½¦äº†ã€‚è€Œä¸ç”¨è‡ªå·±å»åˆ›å»º523iç©ºè°ƒè½¦å®é©¬è½¦.

   è¿™å°±æ˜¯å·¥å‚æ¨¡å¼ã€‚

äºŒã€åˆ†ç±» 
        å·¥å‚æ¨¡å¼ä¸»è¦æ˜¯ä¸ºåˆ›å»ºå¯¹è±¡æä¾›è¿‡æ¸¡æ¥å£ï¼Œä»¥ä¾¿å°†åˆ›å»ºå¯¹è±¡çš„å…·ä½“è¿‡ç¨‹å±è”½éš”ç¦»èµ·æ¥ï¼Œè¾¾åˆ°æé«˜çµæ´»æ€§çš„ç›®çš„ã€‚ 
å·¥å‚æ¨¡å¼å¯ä»¥åˆ†ä¸ºä¸‰ç±»ï¼š 

1ï¼‰ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple Factoryï¼‰ 
2ï¼‰å·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Methodï¼‰ 
3ï¼‰æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰ 

 è¿™ä¸‰ç§æ¨¡å¼ä»ä¸Šåˆ°ä¸‹é€æ­¥æŠ½è±¡ï¼Œå¹¶ä¸”æ›´å…·ä¸€èˆ¬æ€§ã€‚ 
        GOFåœ¨ã€Šè®¾è®¡æ¨¡å¼ã€‹ä¸€ä¹¦ä¸­å°†å·¥å‚æ¨¡å¼åˆ†ä¸ºä¸¤ç±»ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼ï¼ˆFactory Methodï¼‰ä¸æŠ½è±¡å·¥å‚æ¨¡å¼ï¼ˆAbstract Factoryï¼‰ã€‚

        å°†ç®€å•å·¥å‚æ¨¡å¼ï¼ˆSimple Factoryï¼‰çœ‹ä¸ºå·¥å‚æ–¹æ³•æ¨¡å¼çš„ä¸€ç§ç‰¹ä¾‹ï¼Œä¸¤è€…å½’ä¸ºä¸€ç±»ã€‚ 

ä¸‰ã€åŒºåˆ« 
å·¥å‚æ–¹æ³•æ¨¡å¼ï¼š
ä¸€ä¸ªæŠ½è±¡äº§å“ç±»ï¼Œå¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“äº§å“ç±»ã€‚   
ä¸€ä¸ªæŠ½è±¡å·¥å‚ç±»ï¼Œå¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“å·¥å‚ç±»ã€‚   
æ¯ä¸ªå…·ä½“å·¥å‚ç±»åªèƒ½åˆ›å»ºä¸€ä¸ªå…·ä½“äº§å“ç±»çš„å®ä¾‹ã€‚
æŠ½è±¡å·¥å‚æ¨¡å¼ï¼š
å¤šä¸ªæŠ½è±¡äº§å“ç±»ï¼Œæ¯ä¸ªæŠ½è±¡äº§å“ç±»å¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“äº§å“ç±»ã€‚   
ä¸€ä¸ªæŠ½è±¡å·¥å‚ç±»ï¼Œå¯ä»¥æ´¾ç”Ÿå‡ºå¤šä¸ªå…·ä½“å·¥å‚ç±»ã€‚   
æ¯ä¸ªå…·ä½“å·¥å‚ç±»å¯ä»¥åˆ›å»ºå¤šä¸ªå…·ä½“äº§å“ç±»çš„å®ä¾‹ã€‚   
åŒºåˆ«ï¼š
å·¥å‚æ–¹æ³•æ¨¡å¼åªæœ‰ä¸€ä¸ªæŠ½è±¡äº§å“ç±»ï¼Œè€ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰å¤šä¸ªã€‚   
å·¥å‚æ–¹æ³•æ¨¡å¼çš„å…·ä½“å·¥å‚ç±»åªèƒ½åˆ›å»ºä¸€ä¸ªå…·ä½“äº§å“ç±»çš„å®ä¾‹ï¼Œè€ŒæŠ½è±¡å·¥å‚æ¨¡å¼å¯ä»¥åˆ›å»ºå¤šä¸ªã€‚
ä¸¤è€…çš†å¯ã€‚ 

 å››ã€ç®€å•å·¥å‚æ¨¡å¼ 
å»ºç«‹ä¸€ä¸ªå·¥å‚ï¼ˆä¸€ä¸ªå‡½æ•°æˆ–ä¸€ä¸ªç±»æ–¹æ³•ï¼‰æ¥åˆ¶é€ æ–°çš„å¯¹è±¡ã€‚
åˆ†å¸ƒè¯´æ˜å¼•å­ï¼šä»æ— åˆ°æœ‰ã€‚å®¢æˆ·è‡ªå·±åˆ›å»ºå®é©¬è½¦ï¼Œç„¶åæ‹¿æ¥ç”¨ã€‚

 

 
[java] view plain copy
print?

    public class BMW320 {  
        public BMW320(){  
            System.out.println("åˆ¶é€ -->BMW320");  
        }  
    }  
      
    public class BMW523 {  
        public BMW523(){  
            System.out.println("åˆ¶é€ -->BMW523");  
        }  
    }  
      
    public class Customer {  
        public static void main(String[] args) {  
            BMW320 bmw320 = new BMW320();  
            BMW523 bmw523 = new BMW523();  
        }  
    }  

å®¢æˆ·éœ€è¦çŸ¥é“æ€ä¹ˆå»åˆ›å»ºä¸€æ¬¾è½¦,å®¢æˆ·å’Œè½¦å°±ç´§å¯†è€¦åˆåœ¨ä¸€èµ·äº†.ä¸ºäº†é™ä½è€¦åˆ,å°±å‡ºç°äº†å·¥å‚ç±»,æŠŠåˆ›å»ºå®é©¬çš„æ“ä½œç»†èŠ‚éƒ½æ”¾åˆ°äº†å·¥å‚é‡Œé¢å»,å®¢æˆ·ç›´æ¥ä½¿ç”¨å·¥å‚çš„åˆ›å»ºå·¥å‚æ–¹æ³•,ä¼ å…¥æƒ³è¦çš„å®é©¬è½¦å‹å·å°±è¡Œäº†,è€Œä¸å¿…å»çŸ¥é“åˆ›å»ºçš„ç»†èŠ‚.è¿™å°±æ˜¯å·¥ä¸šé©å‘½äº†ï¼šç®€å•å·¥å‚æ¨¡å¼

å³æˆ‘ä»¬å»ºç«‹ä¸€ä¸ªå·¥å‚ç±»æ–¹æ³•æ¥åˆ¶é€ æ–°çš„å¯¹è±¡ã€‚å¦‚å›¾ï¼š


äº§å“ç±»ï¼š
[java] view plain copy
print?

    abstract class BMW {  
        public BMW(){  
              
        }  
    }  
      
    public class BMW320 extends BMW {  
        public BMW320() {  
            System.out.println("åˆ¶é€ -->BMW320");  
        }  
    }  
    public class BMW523 extends BMW{  
        public BMW523(){  
            System.out.println("åˆ¶é€ -->BMW523");  
        }  
    }  

å·¥å‚ç±»ï¼š
[java] view plain copy
print?

    public class Factory {  
        public BMW createBMW(int type) {  
            switch (type) {  
              
            case 320:  
                return new BMW320();  
      
            case 523:  
                return new BMW523();  
      
            default:  
                break;  
            }  
            return null;  
        }  
    }  


å®¢æˆ·ç±»ï¼š
[java] view plain copy
print?

    public class Customer {  
        public static void main(String[] args) {  
            Factory factory = new Factory();  
            BMW bmw320 = factory.createBMW(320);  
            BMW bmw523 = factory.createBMW(523);  
        }  
    }  

   ç®€å•å·¥å‚æ¨¡å¼åˆç§°é™æ€å·¥å‚æ–¹æ³•æ¨¡å¼ã€‚é‡å‘½åä¸Šå°±å¯ä»¥çœ‹å‡ºè¿™ä¸ªæ¨¡å¼ä¸€å®šå¾ˆç®€å•ã€‚å®ƒå­˜åœ¨çš„ç›®çš„å¾ˆç®€å•ï¼šå®šä¹‰ä¸€ä¸ªç”¨äºåˆ›å»ºå¯¹è±¡çš„æ¥å£ã€‚ 
      å…ˆæ¥çœ‹çœ‹å®ƒçš„ç»„æˆï¼š 
         1) å·¥å‚ç±»è§’è‰²ï¼šè¿™æ˜¯æœ¬æ¨¡å¼çš„æ ¸å¿ƒï¼Œå«æœ‰ä¸€å®šçš„å•†ä¸šé€»è¾‘å’Œåˆ¤æ–­é€»è¾‘ï¼Œç”¨æ¥åˆ›å»ºäº§å“
         2) æŠ½è±¡äº§å“è§’è‰²ï¼šå®ƒä¸€èˆ¬æ˜¯å…·ä½“äº§å“ç»§æ‰¿çš„çˆ¶ç±»æˆ–è€…å®ç°çš„æ¥å£ã€‚         
         3) å…·ä½“äº§å“è§’è‰²ï¼šå·¥å‚ç±»æ‰€åˆ›å»ºçš„å¯¹è±¡å°±æ˜¯æ­¤è§’è‰²çš„å®ä¾‹ã€‚åœ¨Javaä¸­ç”±ä¸€ä¸ªå…·ä½“ç±»å®ç°ã€‚ 
        
        ä¸‹é¢æˆ‘ä»¬ä»å¼€é—­åŸåˆ™ï¼ˆå¯¹æ‰©å±•å¼€æ”¾ï¼›å¯¹ä¿®æ”¹å°é—­ï¼‰ä¸Šæ¥åˆ†æä¸‹ç®€å•å·¥å‚æ¨¡å¼ã€‚å½“å®¢æˆ·ä¸å†æ»¡è¶³ç°æœ‰çš„è½¦å‹å·çš„æ—¶å€™ï¼Œæƒ³è¦ä¸€ç§é€Ÿåº¦å¿«çš„æ–°å‹è½¦ï¼Œåªè¦è¿™ç§è½¦ç¬¦åˆæŠ½è±¡äº§å“åˆ¶å®šçš„åˆåŒï¼Œé‚£ä¹ˆåªè¦é€šçŸ¥å·¥å‚ç±»çŸ¥é“å°±å¯ä»¥è¢«å®¢æˆ·ä½¿ç”¨äº†ã€‚æ‰€ä»¥å¯¹äº§å“éƒ¨åˆ†æ¥è¯´ï¼Œå®ƒæ˜¯ç¬¦åˆå¼€é—­åŸåˆ™çš„ï¼›ä½†æ˜¯å·¥å‚éƒ¨åˆ†å¥½åƒä¸å¤ªç†æƒ³ï¼Œå› ä¸ºæ¯å¢åŠ ä¸€ç§æ–°å‹è½¦ï¼Œéƒ½è¦åœ¨å·¥å‚ç±»ä¸­å¢åŠ ç›¸åº”çš„åˆ›å»ºä¸šåŠ¡é€»è¾‘ï¼ˆcreateBMW(int type)æ–¹æ³•éœ€è¦æ–°å¢caseï¼‰ï¼Œè¿™æ˜¾ç„¶æ˜¯è¿èƒŒå¼€é—­åŸåˆ™çš„ã€‚å¯æƒ³è€ŒçŸ¥å¯¹äºæ–°äº§å“çš„åŠ å…¥ï¼Œå·¥å‚ç±»æ˜¯å¾ˆè¢«åŠ¨çš„ã€‚å¯¹äºè¿™æ ·çš„å·¥å‚ç±»ï¼Œæˆ‘ä»¬ç§°å®ƒä¸ºå…¨èƒ½ç±»æˆ–è€…ä¸Šå¸ç±»ã€‚ 
        æˆ‘ä»¬ä¸¾çš„ä¾‹å­æ˜¯æœ€ç®€å•çš„æƒ…å†µï¼Œè€Œåœ¨å®é™…åº”ç”¨ä¸­ï¼Œå¾ˆå¯èƒ½äº§å“æ˜¯ä¸€ä¸ªå¤šå±‚æ¬¡çš„æ ‘çŠ¶ç»“æ„ã€‚ç”±äºç®€å•å·¥å‚æ¨¡å¼ä¸­åªæœ‰ä¸€ä¸ªå·¥å‚ç±»æ¥å¯¹åº”è¿™äº›äº§å“ï¼Œæ‰€ä»¥è¿™å¯èƒ½ä¼šæŠŠæˆ‘ä»¬çš„ä¸Šå¸ç´¯åäº†ï¼Œä¹Ÿç´¯åäº†æˆ‘ä»¬è¿™äº›ç¨‹åºå‘˜ã€‚
        äºæ˜¯å·¥å‚æ–¹æ³•æ¨¡å¼ä½œä¸ºæ•‘ä¸–ä¸»å‡ºç°äº†ã€‚ å·¥å‚ç±»å®šä¹‰æˆäº†æ¥å£,è€Œæ¯æ–°å¢çš„è½¦ç§ç±»å‹,å°±å¢åŠ è¯¥è½¦ç§ç±»å‹å¯¹åº”å·¥å‚ç±»çš„å®ç°,è¿™æ ·å·¥å‚çš„è®¾è®¡å°±å¯ä»¥æ‰©å±•äº†,è€Œä¸å¿…å»ä¿®æ”¹åŸæ¥çš„ä»£ç ã€‚
äº”ã€å·¥å‚æ–¹æ³•æ¨¡å¼ 
        å·¥å‚æ–¹æ³•æ¨¡å¼å»æ‰äº†ç®€å•å·¥å‚æ¨¡å¼ä¸­å·¥å‚æ–¹æ³•çš„é™æ€å±æ€§ï¼Œä½¿å¾—å®ƒå¯ä»¥è¢«å­ç±»ç»§æ‰¿ã€‚è¿™æ ·åœ¨ç®€å•å·¥å‚æ¨¡å¼é‡Œé›†ä¸­åœ¨å·¥å‚æ–¹æ³•ä¸Šçš„å‹åŠ›å¯ä»¥ç”±å·¥å‚æ–¹æ³•æ¨¡å¼é‡Œä¸åŒçš„å·¥å‚å­ç±»æ¥åˆ†æ‹…ã€‚ 
å·¥å‚æ–¹æ³•æ¨¡å¼ç»„æˆï¼š 
       1)æŠ½è±¡å·¥å‚è§’è‰²ï¼š è¿™æ˜¯å·¥å‚æ–¹æ³•æ¨¡å¼çš„æ ¸å¿ƒï¼Œå®ƒä¸åº”ç”¨ç¨‹åºæ— å…³ã€‚æ˜¯å…·ä½“å·¥å‚è§’è‰²å¿…é¡»å®ç°çš„æ¥å£æˆ–è€…å¿…é¡»ç»§æ‰¿çš„çˆ¶ç±»ã€‚åœ¨javaä¸­å®ƒç”±æŠ½è±¡ç±»æˆ–è€…æ¥å£æ¥å®ç°ã€‚ 
       2)å…·ä½“å·¥å‚è§’è‰²ï¼šå®ƒå«æœ‰å’Œå…·ä½“ä¸šåŠ¡é€»è¾‘æœ‰å…³çš„ä»£ç ã€‚ç”±åº”ç”¨ç¨‹åºè°ƒç”¨ä»¥åˆ›å»ºå¯¹åº”çš„å…·ä½“äº§å“çš„å¯¹è±¡ã€‚ 
       3)æŠ½è±¡äº§å“è§’è‰²ï¼šå®ƒæ˜¯å…·ä½“äº§å“ç»§æ‰¿çš„çˆ¶ç±»æˆ–è€…æ˜¯å®ç°çš„æ¥å£ã€‚åœ¨javaä¸­ä¸€èˆ¬æœ‰æŠ½è±¡ç±»æˆ–è€…æ¥å£æ¥å®ç°ã€‚ 
       4)å…·ä½“äº§å“è§’è‰²ï¼šå…·ä½“å·¥å‚è§’è‰²æ‰€åˆ›å»ºçš„å¯¹è±¡å°±æ˜¯æ­¤è§’è‰²çš„å®ä¾‹ã€‚åœ¨javaä¸­ç”±å…·ä½“çš„ç±»æ¥å®ç°ã€‚ 
       å·¥å‚æ–¹æ³•æ¨¡å¼ä½¿ç”¨ç»§æ‰¿è‡ªæŠ½è±¡å·¥å‚è§’è‰²çš„å¤šä¸ªå­ç±»æ¥ä»£æ›¿ç®€å•å·¥å‚æ¨¡å¼ä¸­çš„â€œä¸Šå¸ç±»â€ã€‚æ­£å¦‚ä¸Šé¢æ‰€è¯´ï¼Œè¿™æ ·ä¾¿åˆ†æ‹…äº†å¯¹è±¡æ‰¿å—çš„å‹åŠ›ï¼›è€Œä¸”è¿™æ ·ä½¿å¾—ç»“æ„å˜å¾—çµæ´» èµ·æ¥â€”â€”å½“æœ‰æ–°çš„äº§å“äº§ç”Ÿæ—¶ï¼Œåªè¦æŒ‰ç…§æŠ½è±¡äº§å“è§’è‰²ã€æŠ½è±¡å·¥å‚è§’è‰²æä¾›çš„åˆåŒæ¥ç”Ÿæˆï¼Œé‚£ä¹ˆå°±å¯ä»¥è¢«å®¢æˆ·ä½¿ç”¨ï¼Œè€Œä¸å¿…å»ä¿®æ”¹ä»»ä½•å·²æœ‰ çš„ä»£ç ã€‚å¯ä»¥çœ‹å‡ºå·¥å‚è§’è‰²çš„ç»“æ„ä¹Ÿæ˜¯ç¬¦åˆå¼€é—­åŸåˆ™çš„ï¼ 

ä»£ç å¦‚ä¸‹ï¼š 

äº§å“ç±»ï¼š
[java] view plain copy
print?

    abstract class BMW {  
        public BMW(){  
              
        }  
    }  
    public class BMW320 extends BMW {  
        public BMW320() {  
            System.out.println("åˆ¶é€ -->BMW320");  
        }  
    }  
    public class BMW523 extends BMW{  
        public BMW523(){  
            System.out.println("åˆ¶é€ -->BMW523");  
        }  
    }  


åˆ›å»ºå·¥å‚ç±»ï¼š
[java] view plain copy
print?

    interface FactoryBMW {  
        BMW createBMW();  
    }  
      
    public class FactoryBMW320 implements FactoryBMW{  
      
        @Override  
        public BMW320 createBMW() {  
      
            return new BMW320();  
        }  
      
    }  
    public class FactoryBMW523 implements FactoryBMW {  
        @Override  
        public BMW523 createBMW() {  
      
            return new BMW523();  
        }  
    }  


å®¢æˆ·ç±»ï¼š
[java] view plain copy
print?

    public class Customer {  
        public static void main(String[] args) {  
            FactoryBMW320 factoryBMW320 = new FactoryBMW320();  
            BMW320 bmw320 = factoryBMW320.createBMW();  
      
            FactoryBMW523 factoryBMW523 = new FactoryBMW523();  
            BMW523 bmw523 = factoryBMW523.createBMW();  
        }  
    }  


 å·¥å‚æ–¹æ³•æ¨¡å¼ä»¿ä½›å·²ç»å¾ˆå®Œç¾çš„å¯¹å¯¹è±¡çš„åˆ›å»ºè¿›è¡Œäº†åŒ…è£…ï¼Œä½¿å¾—å®¢æˆ·ç¨‹åºä¸­ä»…ä»…å¤„ç†æŠ½è±¡äº§å“è§’è‰²æä¾›çš„æ¥å£ï¼Œä½†ä½¿å¾—å¯¹è±¡çš„æ•°é‡æˆå€å¢é•¿ã€‚å½“äº§å“ç§ç±»éå¸¸å¤šæ—¶ï¼Œä¼šå‡ºç°å¤§é‡çš„ä¸ä¹‹å¯¹åº”çš„å·¥å‚å¯¹è±¡ï¼Œè¿™ä¸æ˜¯æˆ‘ä»¬æ‰€å¸Œæœ›çš„ã€‚

å‚è€ƒhttp://blog.csdn.NET/hguisu/article/details/7505909


ä»¥ä¸Šå°±æ˜¯ç®€å•å·¥å‚æ¨¡å¼ï¼Œå·¥å‚æ–¹æ³•æ¨¡å¼ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼åœ¨è¿™é‡Œã€‚




===============================


³éÏó¹¤³§Ä£Ê½£¨Abstract Factory£© 
http://blog.csdn.net/liruikqn/article/details/12888511

 Java ³éÏó¹¤³§Ä£Ê½
2013-10-20 21:08 19525ÈËÔÄ¶Á ÆÀÂÛ(0) ÊÕ²Ø ¾Ù±¨
·ÖÀà£º
JavaÉè¼ÆÄ£Ê½£¨2£©
×÷ÕßÍ¬ÀàÎÄÕÂX

°æÈ¨ÉùÃ÷£º±¾ÎÄÎª²©Ö÷Ô­´´ÎÄÕÂ£¬Î´¾­²©Ö÷ÔÊĞí²»µÃ×ªÔØ¡£

³éÏó¹¤³§Ä£Ê½£¨Abstract Factory Pattern£©ÊÇ¹¤³§·½·¨Ä£Ê½µÄ½øÒ»²½³éÏó£¬ÆäÓ¢ÎÄÔ­»°"Provide an interface for creating families of related or dependent objects without specifying their concrete classes",·­Òë£¬¡°Îª´´½¨Ò»×éÏà¹Ø»òÏà»¥ÒÀÀµµÄ¶ÔÏóÌá¹©Ò»¸ö½è¿Ú£¬ÎŞĞèÖ¸¶¨ËüÃÇµÄ¾ßÌåÀà¡±¡£³éÏó¹¤³§Ä£Ê½Í¨³£ÊÇÓÃÓÚ´´Ò»×å²úÆ·£¬²¢ÇÒÕâ×å²úÆ··Ö²»Í¬µÄµÈ¼¶£»²»Í¬µÄ¾ßÌå¹¤³§ÀàÉú²ú²»Í¬µÈ¼¶µÄÒ»×å²úÆ·¡£³éÏó¹¤³§Ä£Ê½Ò²ÓĞËÄÖÖ½ÇÉ«£º³éÏó¹¤³§¡¢¾ßÌå¹¤³§¡¢³éÏó²úÆ·ºÍ¾ßÌå²úÆ·£¬¾ßÌå½âÊÍ²Î¼û¡°Java ¹¤³§·½·¨Ä£Ê½¡±Ò»ÎÄ¡£³éÏó¹¤³§Ä£Ê½µÄÀàÍ¼ÈçÏÂ£º



¿ÉÒÔ¿´µ½²úÆ·×å°üÀ¨ProductAºÍProductBÁ½ÖÖ²úÆ·£¬Ã¿¸ö¾ßÌå¹¤³§¶¼ÄÜÉú²úÕâÁ½ÖÖ²úÆ·£¬Ö»ÊÇConcreteFactory1Éú²úµÄµÈ¼¶Îª1µÄ×å²úÆ·£»ConcreteFactory2Éú²úµÄÊÇµÈ¼¶Îª2µÄ×å²úÆ·¡£ÏÂÃæÒÔÉÏÍ¼ÎªÄ£ĞÍ£¬Ğ´Ò»¸ödemo£¬²âÊÔ³éÏó¹¤³§Ä£Ê½¡£

³éÏó¹¤³§£ºAbstractFactory½Ó¿Ú

[html] view plain copy

    //³éÏó¹¤³§£¬¶¨ÒåÁËÉú²ú×å²úÆ·µÄ·½·¨£»  
    public interface AbstractFactory {  
        public ProductA factoryA();  
        public ProductB factoryB();  
    }  


³éÏó²úÆ·£ºProductA½Ó¿Ú

[html] view plain copy

    //³éÏó²úÆ·A¶¨ÒåÁË²úÆ·µÄ¹«¹²·½·¨£¬²úÆ·AºÍBÊôÓÚÒ»¸ö²úÆ·×å  
    public interface ProductA {  
        public void method1();  
        public void method2();  
    }  


³éÏó²úÆ·£ºProductB½Ó¿Ú

[html] view plain copy

    //³éÏó²úÆ·B¶¨ÒåÁË²úÆ·µÄ¹«¹²·½·¨£¬²úÆ·AºÍBÊôÓÚÒ»¸ö²úÆ·×å  
    public interface ProductB {  
        public void method1();  
        public void method2();  
    }  


¾ßÌå¹¤³§£¨Éú²úµÈ¼¶Îª2µÄ×å²úÆ·£©£ºConcreteFactory1Àà

[html] view plain copy

    //ConcreateFactory1ÊÇÓÃÀ´Éú²úµÈ¼¶Îª1µÄ²úÆ·A£¬B£»  
    public class ConcreateFactory1 implements AbstractFactory {  
      
        //Éú²úµÈ¼¶Îª1µÄ²úÆ·A  
        @Override  
        public ProductA factoryA() {  
            // TODO Auto-generated method stub  
            return new ConcreateProductA1();  
        }  
      
          
        //Éú²úµÈ¼¶Îª1µÄ²úÆ·B  
        @Override  
        public ProductB factoryB() {  
            // TODO Auto-generated method stub  
            return new ConcreateProductB1();  
        }  
      
    }  


¾ßÌå¹¤³§£¨Éú²úµÈ¼¶Îª1µÄ×å²úÆ·£©£ºConcreteFactory2Àà
[html] view plain copy

    public class ConcreateFactory2 implements AbstractFactory {  
      
        //Éú²úµÈ¼¶Îª2µÄ²úÆ·A  
        @Override  
        public ProductA factoryA() {  
            // TODO Auto-generated method stub  
            return new ConcreateProductA2();  
        }  
      
        //Éú²úµÈ¼¶Îª2µÄ²úÆ·B  
        @Override  
        public ProductB factoryB() {  
            // TODO Auto-generated method stub  
            return new ConcreateProductB2();  
        }  
    }  



¾ßÌå²úÆ·£¨µÈ¼¶Îª1µÄA²úÆ·£©£ºConcreteProductA1Àà

[html] view plain copy

    //µÈ¼¶Îª1µÄ¾ßÌå²úÆ·A  
    public class ConcreateProductA1 implements ProductA {  
      
        @Override  
        public void method1() {  
            // TODO Auto-generated method stub  
            System.out.println("µÈ¼¶Îª1µÄ²úÆ·AµÄmethod1()");  
        }  
      
        @Override  
        public void method2() {  
            // TODO Auto-generated method stub  
            System.out.println("µÈ¼¶Îª1µÄ²úÆ·AµÄmethod2()");  
        }  
    }  



¾ßÌå²úÆ·£¨µÈ¼¶Îª2µÄA²úÆ·£©£ºConcreteProductA2Àà

[html] view plain copy

    //µÈ¼¶Îª2µÄ¾ßÌå²úÆ·A  
    public class ConcreateProductA2 implements ProductA {  
      
        @Override  
        public void method1() {  
            // TODO Auto-generated method stub  
            System.out.println("µÈ¼¶Îª2µÄ²úÆ·AµÄmethod1()");  
        }  
      
        @Override  
        public void method2() {  
            // TODO Auto-generated method stub  
            System.out.println("µÈ¼¶Îª2µÄ²úÆ·AµÄmethod2()");  
        }  
    }  



¾ßÌå²úÆ·£¨µÈ¼¶Îª1µÄB²úÆ·£©£ºConcreteProductB1Àà

[html] view plain copy

    //µÈ¼¶Îª1µÄ²úÆ·B  
    public class ConcreateProductB1 implements ProductB{  
      
        @Override  
        public void method1() {  
            // TODO Auto-generated method stub  
            System.out.println("µÈ¼¶Îª1µÄ²úÆ·BµÄmethod1()");  
        }  
      
        @Override  
        public void method2() {  
            // TODO Auto-generated method stub  
            System.out.println("µÈ¼¶Îª1µÄ²úÆ·BµÄmethod2()");  
        }  
    }  



¾ßÌå²úÆ·£¨µÈ¼¶Îª2µÄB²úÆ·£©£ºConcreteProductB2Àà

[html] view plain copy

    //µÈ¼¶Îª2µÄ²úÆ·B  
    public class ConcreateProductB2 implements ProductB {  
      
        @Override  
        public void method1() {  
            // TODO Auto-generated method stub  
            System.out.println("µÈ¼¶Îª2µÄ²úÆ·BµÄmethod1()");  
        }  
      
        @Override  
        public void method2() {  
            // TODO Auto-generated method stub  
            System.out.println("µÈ¼¶Îª2µÄ²úÆ·BµÄmethod2()");  
        }  
    }  


ÔËĞĞ½á¹û£º

µÈ¼¶Îª1µÄ²úÆ·AµÄmethod1()
µÈ¼¶Îª1µÄ²úÆ·AµÄmethod2()
µÈ¼¶Îª1µÄ²úÆ·BµÄmethod1()
µÈ¼¶Îª1µÄ²úÆ·BµÄmethod2()
µÈ¼¶Îª2µÄ²úÆ·AµÄmethod1()
µÈ¼¶Îª2µÄ²úÆ·AµÄmethod2()
µÈ¼¶Îª2µÄ²úÆ·BµÄmethod1()
µÈ¼¶Îª2µÄ²úÆ·BµÄmethod2()

×Ü½á£º

³éÏó¹¤³§Ä£Ê½Ïà¶ÔÓÚ¹¤³§·½·¨Ä£Ê½À´Ëµ£¬Ã¿¸ö¾ßÌå¹¤³§¿ÉÒÔÉú²úÒ»×å²úÆ·£¨¼´¶àÖÖ²úÆ·£©£»¶ø¹¤³§·½·¨Ä£Ê½ÊÇ¾ßÌå¹¤³§Éú²úÏàÓ¦µÄ¾ßÌå²úÆ·£¬Ö»ÄÜÉú²úÒ»ÖÖ²úÆ·¡£µ±²úÆ·×åÖĞÖ»ÓĞÒ»ÖÖ²úÆ·Ê±³éÏó¹¤³§Ä£Ê½ÍË»¯³É¹¤³§·½·¨Ä£Ê½¡£


===========================




